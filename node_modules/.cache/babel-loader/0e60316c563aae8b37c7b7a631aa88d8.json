{"remainingRequest":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\babel-loader\\lib\\index.js!E:\\2023spring\\sci\\vue3-bigData\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\2023spring\\sci\\vue3-bigData\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\2023spring\\sci\\vue3-bigData\\src\\views\\homepage\\components\\barChart.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\2023spring\\sci\\vue3-bigData\\src\\views\\homepage\\components\\barChart.vue","mtime":1676367231992},{"path":"E:\\2023spring\\sci\\vue3-bigData\\babel.config.js","mtime":1676359297052},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676359411943},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\babel-loader\\lib\\index.js","mtime":1676359413493},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676359411943},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1676359413934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGVjaGFydHMgZnJvbSAiZWNoYXJ0cyI7CmltcG9ydCB7IG9uTW91bnRlZCwgb25CZWZvcmVVbm1vdW50LCByZWYsIHdhdGNoIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICJAL3V0aWxzL2luZGV4LmpzIjsKaW1wb3J0IHVzZVJlc2l6ZSBmcm9tICJAL2NvbXBvbmVudEFwaS91c2VSZXNpemUuanMiOwppbXBvcnQgeyBzZWxlY3RPdGhlckRhdGEgfSBmcm9tICJAL2FwaS9tb2NrQ2hhcnQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImJhckNoYXJ0IiwKICBzZXR1cCgpIHsKICAgIGxldCB7CiAgICAgIGFiY29kZSwKICAgICAgeWVhciwKICAgICAgcGFyZW50SW5mbywKICAgICAgcm91dGVyQ2hhbmdlCiAgICB9ID0gdXNlUmVzaXplKCk7CiAgICBjb25zdCBiYXJDaGFydCA9IHJlZihudWxsKTsKICAgIGxldCBteUNoYXJ0ID0gcmVmKG51bGwpOwogICAgY29uc3QgcmVzaXplSGFuZGxlciA9IGRlYm91bmNlKCgpID0+IHsKICAgICAgaWYgKG15Q2hhcnQpIHsKICAgICAgICBteUNoYXJ0LnJlc2l6ZSgpOwogICAgICB9CiAgICB9LCAyMDApOwogICAgb25Nb3VudGVkKCgpID0+IHsKICAgICAgZ2V0Q2hhcnREYXRhKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCByZXNpemVIYW5kbGVyKTsKICAgIH0pOwogICAgb25CZWZvcmVVbm1vdW50KCgpID0+IHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlc2l6ZUhhbmRsZXIpOwogICAgfSk7CgogICAgLy/mqKHmi5/mjqXlj6PvvIzojrflj5ZlY2hhcnRz5pWw5o2uCiAgICBjb25zdCBnZXRDaGFydERhdGEgPSBhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IHsKICAgICAgICBkYXRhCiAgICAgIH0gPSBhd2FpdCBzZWxlY3RPdGhlckRhdGEoewogICAgICAgIGFiY29kZSwKICAgICAgICB5ZWFyCiAgICAgIH0pOwogICAgICBpbml0RWNoYXJ0cyhkYXRhKTsKICAgIH07CgogICAgLy/muLLmn5NlY2hhcnRz5Zu+CiAgICBjb25zdCBpbml0RWNoYXJ0cyA9IGRhdGEgPT4gewogICAgICBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KGJhckNoYXJ0LnZhbHVlKTsKICAgICAgbGV0IG9wdGlvbiA9IHsKICAgICAgICAvLyAgYmFja2dyb3VuZENvbG9yOiAnIzAwMjY1ZicsCiAgICAgICAgdG9vbHRpcDogewogICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnLAogICAgICAgICAgYXhpc1BvaW50ZXI6IHsKICAgICAgICAgICAgdHlwZTogJ3NoYWRvdycKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGdyaWQ6IHsKICAgICAgICAgIGxlZnQ6ICcwJScsCiAgICAgICAgICB0b3A6ICcxMHB4JywKICAgICAgICAgIHJpZ2h0OiAnMCUnLAogICAgICAgICAgYm90dG9tOiAnNCUnLAogICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB4QXhpczogW3sKICAgICAgICAgIHR5cGU6ICdjYXRlZ29yeScsCiAgICAgICAgICBkYXRhOiBbJ+iKr+eJhycsICfmtrLmmbblsY8nLCAn5b+r5raI6aOf5ZOBJywgJ+eDn+mFkicsICflhbbku5YnXSwKICAgICAgICAgIGF4aXNMaW5lOiB7CiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgIGxpbmVTdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAiIzAwYTlmYiIsCiAgICAgICAgICAgICAgd2lkdGg6IDEsCiAgICAgICAgICAgICAgdHlwZTogInNvbGlkIgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgYXhpc1RpY2s6IHsKICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgIH0sCiAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgaW50ZXJ2YWw6IDAsCiAgICAgICAgICAgIC8vIHJvdGF0ZTo1MCwKICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgc3BsaXROdW1iZXI6IDE1LAogICAgICAgICAgICB0ZXh0U3R5bGU6IHsKICAgICAgICAgICAgICBjb2xvcjogIiNjZWNlY2UiLAogICAgICAgICAgICAgIGZvbnRTaXplOiAnMTInCiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9XSwKICAgICAgICB5QXhpczogW3sKICAgICAgICAgIHR5cGU6ICd2YWx1ZScsCiAgICAgICAgICBheGlzTGFiZWw6IHsKICAgICAgICAgICAgLy9mb3JtYXR0ZXI6ICd7dmFsdWV9ICUnCiAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgICAgIGNvbG9yOiAiI2NlY2VjZSIsCiAgICAgICAgICAgICAgZm9udFNpemU6ICcxMicKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGF4aXNUaWNrOiB7CiAgICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgICB9LAogICAgICAgICAgYXhpc0xpbmU6IHsKICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICIjMzk3Y2JjIiwKICAgICAgICAgICAgICB3aWR0aDogMSwKICAgICAgICAgICAgICB0eXBlOiAic29saWQiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBzcGxpdExpbmU6IHsKICAgICAgICAgICAgbGluZVN0eWxlOiB7CiAgICAgICAgICAgICAgY29sb3I6ICIjZjBmIgogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfV0sCiAgICAgICAgc2VyaWVzOiBbewogICAgICAgICAgdHlwZTogJ2JhcicsCiAgICAgICAgICBkYXRhOiBbKCfmuZbljJcnLCAzMDApLCAoJ+W5v+S4nCcsIDI1MCksICgn5rWZ5rGfJywgMjAwKSwgKCfmsrPljZcnLCAxNTApLCAoJ+a5luWNlycsIDEwMCldLAogICAgICAgICAgYmFyV2lkdGg6ICczNSUnLAogICAgICAgICAgLy/mn7HlrZDlrr3luqYKICAgICAgICAgIC8vIGJhckdhcDogMSwgLy/mn7HlrZDkuYvpl7Tpl7Tot50KICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICBjb2xvcjogJyMxOTkwREEnLAogICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgYmFyQm9yZGVyUmFkaXVzOiA1CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9XQogICAgICB9OwogICAgICBteUNoYXJ0LnNldE9wdGlvbihvcHRpb24pOwogICAgICBteUNoYXJ0Lm9mZigiY2xpY2siKTsKICAgICAgbXlDaGFydC5nZXRacigpLm9mZigiY2xpY2siKTsKICAgICAgbXlDaGFydC5nZXRacigpLm9uKCJjbGljayIsIHBhcmFtcyA9PiB7CiAgICAgICAgY29uc3QgcG9pbnRJblBpeGVsID0gW3BhcmFtcy5vZmZzZXRYLCBwYXJhbXMub2Zmc2V0WV07CiAgICAgICAgaWYgKG15Q2hhcnQuY29udGFpblBpeGVsKCJncmlkIiwgcG9pbnRJblBpeGVsKSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcm91dGVyQ2hhbmdlKCIvbW9yZSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgd2F0Y2goeWVhciwgKG5sLCBvbCkgPT4gewogICAgICBnZXRDaGFydERhdGEoKTsKICAgIH0sIHsKICAgICAgbGF6eTogZmFsc2UKICAgIH0pOwogICAgd2F0Y2gocGFyZW50SW5mbywgKG5sLCBvbCkgPT4gewogICAgICBnZXRDaGFydERhdGEoKTsKICAgIH0sIHsKICAgICAgbGF6eTogZmFsc2UsCiAgICAgIGRlZXA6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgYmFyQ2hhcnQKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["echarts","onMounted","onBeforeUnmount","ref","watch","debounce","useResize","selectOtherData","name","setup","abcode","year","parentInfo","routerChange","barChart","myChart","resizeHandler","resize","getChartData","window","addEventListener","removeEventListener","data","initEcharts","init","value","option","tooltip","trigger","axisPointer","type","grid","left","top","right","bottom","containLabel","xAxis","axisLine","show","lineStyle","color","width","axisTick","axisLabel","interval","splitNumber","textStyle","fontSize","yAxis","splitLine","series","barWidth","itemStyle","normal","opacity","barBorderRadius","setOption","off","getZr","on","params","pointInPixel","offsetX","offsetY","containPixel","length","nl","ol","lazy","deep"],"sourceRoot":"","sources":["E:\\2023spring\\sci\\vue3-bigData\\src\\views\\homepage\\components\\barChart.vue"],"sourcesContent":["<template>\r\n  <div className=\"chart-wrapper\" ref=\"barChart\"></div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from \"echarts\";\r\nimport {onMounted, onBeforeUnmount, ref, watch} from \"vue\";\r\nimport {debounce} from \"@/utils/index.js\";\r\nimport useResize from \"@/componentApi/useResize.js\";\r\nimport {selectOtherData} from \"@/api/mockChart\";\r\n\r\nexport default {\r\n  name: \"barChart\",\r\n  setup() {\r\n    let {abcode, year, parentInfo, routerChange} = useResize();\r\n\r\n    const barChart = ref(null);\r\n    let myChart = ref(null);\r\n\r\n    const resizeHandler = debounce(() => {\r\n      if (myChart) {\r\n        myChart.resize();\r\n      }\r\n    }, 200);\r\n\r\n    onMounted(() => {\r\n      getChartData();\r\n      window.addEventListener(\"resize\", resizeHandler);\r\n    });\r\n    onBeforeUnmount(() => {\r\n      window.removeEventListener(\"resize\", resizeHandler);\r\n    });\r\n\r\n    //模拟接口，获取echarts数据\r\n    const getChartData = async () => {\r\n      const {data} = await selectOtherData({\r\n        abcode,\r\n        year,\r\n      });\r\n      initEcharts(data);\r\n    };\r\n\r\n    //渲染echarts图\r\n    const initEcharts = (data) => {\r\n      myChart = echarts.init(barChart.value);\r\n      let option = {\r\n        //  backgroundColor: '#00265f',\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        grid: {\r\n          left: '0%',\r\n          top:'10px',\r\n          right: '0%',\r\n          bottom: '4%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [{\r\n          type: 'category',\r\n          data: ['芯片', '液晶屏', '快消食品', '烟酒', '其他'],\r\n          axisLine: {\r\n            show: true,\r\n            lineStyle: {\r\n              color: \"#00a9fb\",\r\n              width: 1,\r\n              type: \"solid\"\r\n            },\r\n          },\r\n\r\n          axisTick: {\r\n            show: false\r\n          },\r\n          axisLabel:  {\r\n            interval: 0,\r\n            // rotate:50,\r\n            show: true,\r\n            splitNumber: 15,\r\n            textStyle: {\r\n              color: \"#cecece\",\r\n              fontSize: '12',\r\n            },\r\n          },\r\n        }],\r\n        yAxis: [{\r\n          type: 'value',\r\n          axisLabel: {\r\n            //formatter: '{value} %'\r\n            show:true,\r\n            textStyle: {\r\n              color: \"#cecece\",\r\n              fontSize: '12',\r\n            },\r\n          },\r\n          axisTick: {\r\n            show: false,\r\n          },\r\n          axisLine: {\r\n            show: true,\r\n            lineStyle: {\r\n              color: \"#397cbc\",\r\n              width: 1,\r\n              type: \"solid\"\r\n            },\r\n          },\r\n          splitLine: {\r\n            lineStyle: {\r\n              color: \"#f0f\",\r\n            }\r\n          }\r\n        }],\r\n        series: [\r\n          {\r\n            type: 'bar',\r\n            data: [\r\n              ('湖北', 300),\r\n              ('广东', 250),\r\n              ('浙江', 200),\r\n              ('河南', 150),\r\n              ('湖南', 100)\r\n            ],\r\n            barWidth:'35%', //柱子宽度\r\n            // barGap: 1, //柱子之间间距\r\n            itemStyle: {\r\n              normal: {\r\n                color:'#1990DA',\r\n                opacity: 1,\r\n                barBorderRadius: 5,\r\n              }\r\n            }\r\n          }\r\n\r\n        ]\r\n      };\r\n      myChart.setOption(option);\r\n      myChart.off(\"click\");\r\n      myChart.getZr().off(\"click\");\r\n      myChart.getZr().on(\"click\", (params) => {\r\n        const pointInPixel = [params.offsetX, params.offsetY];\r\n        if (myChart.containPixel(\"grid\", pointInPixel) || data.length === 0) {\r\n          routerChange(\"/more\");\r\n        }\r\n      });\r\n    };\r\n\r\n    watch(\r\n        year,\r\n        (nl, ol) => {\r\n          getChartData();\r\n        },\r\n        {lazy: false}\r\n    );\r\n\r\n    watch(\r\n        parentInfo,\r\n        (nl, ol) => {\r\n          getChartData();\r\n        },\r\n        {lazy: false, deep: true}\r\n    );\r\n\r\n    return {\r\n      barChart,\r\n    };\r\n  },\r\n};\r\n</script>\r\n"]}]}