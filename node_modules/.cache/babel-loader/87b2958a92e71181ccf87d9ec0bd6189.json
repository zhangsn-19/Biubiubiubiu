{"remainingRequest":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\babel-loader\\lib\\index.js!E:\\2023spring\\sci\\vue3-bigData\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\2023spring\\sci\\vue3-bigData\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!E:\\2023spring\\sci\\vue3-bigData\\src\\views\\homepage\\components\\typeCount.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\2023spring\\sci\\vue3-bigData\\src\\views\\homepage\\components\\typeCount.vue","mtime":1676359297068},{"path":"E:\\2023spring\\sci\\vue3-bigData\\babel.config.js","mtime":1676359297052},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676359411943},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\babel-loader\\lib\\index.js","mtime":1676359413493},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676359411943},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1676359413934}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0IGVjaGFydHMgZnJvbSAiZWNoYXJ0cyI7CmltcG9ydCB7IG9uTW91bnRlZCwgb25CZWZvcmVVbm1vdW50LCByZWYsIHdhdGNoIH0gZnJvbSAidnVlIjsKaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tICJAL3V0aWxzL2luZGV4LmpzIjsKaW1wb3J0IHVzZVJlc2l6ZSBmcm9tICJAL2NvbXBvbmVudEFwaS91c2VSZXNpemUuanMiOwppbXBvcnQgeyBzZWxlY3RUeXBlRGF0YSB9IGZyb20gIkAvYXBpL21vY2tDaGFydCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAidHlwZUNvdW50IiwKICBzZXR1cCgpIHsKICAgIGxldCB7CiAgICAgIGFiY29kZSwKICAgICAgeWVhciwKICAgICAgcGFyZW50SW5mbywKICAgICAgcm91dGVyQ2hhbmdlCiAgICB9ID0gdXNlUmVzaXplKCk7CiAgICBjb25zdCB0eXBlQ291bnQgPSByZWYobnVsbCk7CiAgICBsZXQgbXlDaGFydCA9IHJlZihudWxsKTsKICAgIGNvbnN0IHJlc2l6ZUhhbmRsZXIgPSBkZWJvdW5jZSgoKSA9PiB7CiAgICAgIGlmIChteUNoYXJ0KSB7CiAgICAgICAgbXlDaGFydC5yZXNpemUoKTsKICAgICAgfQogICAgfSwgMjAwKTsKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIGdldFBpZURhdGEoKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHJlc2l6ZUhhbmRsZXIpOwogICAgfSk7CiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4gewogICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgcmVzaXplSGFuZGxlcik7CiAgICB9KTsKCiAgICAvL+aooeaLn+aOpeWPo++8jOiOt+WPlmVjaGFydHPmlbDmja4KICAgIGNvbnN0IGdldFBpZURhdGEgPSBhc3luYyAoKSA9PiB7CiAgICAgIGNvbnN0IHsKICAgICAgICBkYXRhCiAgICAgIH0gPSBhd2FpdCBzZWxlY3RUeXBlRGF0YSh7CiAgICAgICAgYWJjb2RlLAogICAgICAgIHllYXIKICAgICAgfSk7CiAgICAgIGxldCBzdW0gPSBkYXRhLnJlZHVjZSgodCwgYykgPT4gcGFyc2VGbG9hdChjLnZhbHVlKSArIHQsIDApOwogICAgICBzdW0gPSBwYXJzZUZsb2F0KHN1bS50b0ZpeGVkKDIpKTsKICAgICAgaW5pdEVjaGFydHMoZGF0YSwgc3VtKTsKICAgIH07CgogICAgLy8gLy/muLLmn5NlY2hhcnRz5Zu+CiAgICBjb25zdCBpbml0RWNoYXJ0cyA9IChkYXRhLCBzdW0pID0+IHsKICAgICAgY29uc3QgY29sb3JMaXN0ID0gWyIjMDI3OEU2IiwgIiM2MjU1RkUiLCAiIzAwQzZGRiIsICIjRjA5NjBFIiwgIiMzNEQxNjAiLCAiIzg3Y2VmYSIsICIjZGE3MGQ2IiwgIiMzMmNkMzIiLCAiIzY0OTVlZCIsICIjOWZlNmI4IiwgIiNlN2JjZjMiLCAiIzBFN0NFMiIsICIjRkY4MzUyIiwgIiNFMjcxREUiLCAiIzRBRUFCMCJdOwogICAgICBteUNoYXJ0ID0gZWNoYXJ0cy5pbml0KHR5cGVDb3VudC52YWx1ZSk7CiAgICAgIG15Q2hhcnQuc2V0T3B0aW9uKHsKICAgICAgICBjb2xvcjogY29sb3JMaXN0LAogICAgICAgIHRpdGxlOiBbewogICAgICAgICAgc2hvdzogZGF0YS5sZW5ndGggPT09IDAsCiAgICAgICAgICB0b3A6ICJjZW50ZXIiLAogICAgICAgICAgbGVmdDogImNlbnRlciIsCiAgICAgICAgICB0ZXh0OiAi5pqC5peg5pWw5o2uIiwKICAgICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgICBjb2xvcjogInJnYigxNzksIDIzOSwgMjU1KSIsCiAgICAgICAgICAgIGZvbnRTaXplOiAxMgogICAgICAgICAgfQogICAgICAgIH0sIHsKICAgICAgICAgIHRleHQ6IHN1bSwKICAgICAgICAgIGxlZnQ6ICIzMyUiLAogICAgICAgICAgdG9wOiAiY2VudGVyIiwKICAgICAgICAgIHRleHRTdHlsZTogewogICAgICAgICAgICBmb250U2l6ZTogMTIsCiAgICAgICAgICAgIGNvbG9yOiAicmdiKDE3OSwgMjM5LCAyNTUpIgogICAgICAgICAgfQogICAgICAgIH1dLAogICAgICAgIHRvb2x0aXA6IHsKICAgICAgICAgIHRyaWdnZXI6ICJpdGVtIiwKICAgICAgICAgIGZvcm1hdHRlcjogIumUgOmHjyA8YnIvPntifSA6IHtjfSAoe2R9JSkiLAogICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgIGZvbnRTaXplOiAxMgogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgbGVnZW5kOiB7CiAgICAgICAgICBvcmllbnQ6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICB0b3A6ICJjZW50ZXIiLAogICAgICAgICAgdHlwZTogInNjcm9sbCIsCiAgICAgICAgICByaWdodDogIjclIiwKICAgICAgICAgIGl0ZW1XaWR0aDogMTUsCiAgICAgICAgICBpdGVtSGVpZ2h0OiAxMywKICAgICAgICAgIHBhZ2VJY29uQ29sb3I6ICIjZmZmIiwKICAgICAgICAgIHBhZ2VJY29uU2l6ZTogMTAsCiAgICAgICAgICBwYWdlVGV4dFN0eWxlOiB7CiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZiIKICAgICAgICAgIH0sCiAgICAgICAgICBkYXRhOiBkYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgdGV4dFN0eWxlOiB7CiAgICAgICAgICAgICAgICBjb2xvcjogY29sb3JMaXN0W2luZGV4XQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfTsKICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICB0b29sYm94OiB7CiAgICAgICAgICBmZWF0dXJlOiB7CiAgICAgICAgICAgIGRhdGFWaWV3OiB7CiAgICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbWFnaWNUeXBlOiB7CiAgICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVzdG9yZTogewogICAgICAgICAgICAgIHNob3c6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNhdmVBc0ltYWdlOiB7CiAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICBuYW1lOiB5ZWFyLnZhbHVlICsgIuW5tOmUgOWUruenjeexuyIsCiAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogMgogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgaWNvblN0eWxlOiB7CiAgICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAgIGJvcmRlckNvbG9yOiAiIzE5OTBEQSIKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIHRvcDogMCwKICAgICAgICAgIHJpZ2h0OiA1CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFt7CiAgICAgICAgICBuYW1lOiAi6ZSA5ZSu56eN57G7IiwKICAgICAgICAgIHR5cGU6ICJwaWUiLAogICAgICAgICAgcmFkaXVzOiBbIjQ1JSIsICI3NSUiXSwKICAgICAgICAgIGNlbnRlcjogWyI0MCUiLCAiNTAlIl0sCiAgICAgICAgICByb3NlVHlwZTogInJhZGl1cyIsCiAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgbGFiZWxMaW5lOiB7CiAgICAgICAgICAgIG5vcm1hbDogewogICAgICAgICAgICAgIGxlbmd0aDogMC4wMDAwMDAwMDEKICAgICAgICAgICAgfQogICAgICAgICAgfSwKICAgICAgICAgIGl0ZW1TdHlsZTogewogICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICBjb2xvcjogZnVuY3Rpb24gKHBhcmFtcykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yTGlzdFtwYXJhbXMuZGF0YUluZGV4ICUgY29sb3JMaXN0Lmxlbmd0aF07CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBsYWJlbDogewogICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSwKICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogIntkfSUiCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfV0KICAgICAgfSwgdHJ1ZSk7CiAgICAgIG15Q2hhcnQuZ2V0WnIoKS5vZmYoImNsaWNrIik7CiAgICAgIG15Q2hhcnQuZ2V0WnIoKS5vbigiY2xpY2siLCBwYXJhbXMgPT4gewogICAgICAgIGNvbnN0IHBvaW50SW5QaXhlbCA9IFtwYXJhbXMub2Zmc2V0WCwgcGFyYW1zLm9mZnNldFldOwogICAgICAgIGlmIChteUNoYXJ0LmNvbnRhaW5QaXhlbCgic2VyaWVzIiwgcG9pbnRJblBpeGVsKSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgcm91dGVyQ2hhbmdlKCIvbW9yZSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogICAgd2F0Y2goeWVhciwgKG5sLCBvbCkgPT4gewogICAgICBnZXRQaWVEYXRhKCk7CiAgICB9LCB7CiAgICAgIGxhenk6IGZhbHNlCiAgICB9KTsKICAgIHdhdGNoKHBhcmVudEluZm8sIChubCwgb2wpID0+IHsKICAgICAgZ2V0UGllRGF0YSgpOwogICAgfSwgewogICAgICBsYXp5OiBmYWxzZSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gewogICAgICB0eXBlQ291bnQKICAgIH07CiAgfQp9Ow=="},{"version":3,"mappings":";AAKA,OAAOA,OAAM,MAAO,SAAS;AAC7B,SAASC,SAAS,EAAEC,eAAe,EAAEC,GAAG,EAAEC,KAAI,QAAS,KAAK;AAC5D,SAASC,QAAO,QAAS,kBAAkB;AAC3C,OAAOC,SAAQ,MAAO,6BAA6B;AACnD,SAASC,cAAa,QAAS,iBAAiB;AAEhD,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,KAAK,GAAG;IACN,IAAI;MAAEC,MAAM;MAAEC,IAAI;MAAEC,UAAU;MAAEC;IAAa,IAAIP,SAAS,EAAE;IAE5D,MAAMQ,SAAQ,GAAIX,GAAG,CAAC,IAAI,CAAC;IAC3B,IAAIY,OAAM,GAAIZ,GAAG,CAAC,IAAI,CAAC;IAEvB,MAAMa,aAAY,GAAIX,QAAQ,CAAC,MAAM;MACnC,IAAIU,OAAO,EAAE;QACXA,OAAO,CAACE,MAAM,EAAE;MAClB;IACF,CAAC,EAAE,GAAG,CAAC;IAEPhB,SAAS,CAAC,MAAM;MACdiB,UAAU,EAAE;MACZC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAEJ,aAAa,CAAC;IAClD,CAAC,CAAC;IACFd,eAAe,CAAC,MAAM;MACpBiB,MAAM,CAACE,mBAAmB,CAAC,QAAQ,EAAEL,aAAa,CAAC;IACrD,CAAC,CAAC;;IAEF;IACA,MAAME,UAAS,GAAI,YAAY;MAC7B,MAAM;QAAEI;MAAK,IAAI,MAAMf,cAAc,CAAC;QACpCG,MAAM;QACNC;MACF,CAAC,CAAC;MACF,IAAIY,GAAE,GAAID,IAAI,CAACE,MAAM,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKC,UAAU,CAACD,CAAC,CAACE,KAAK,IAAIH,CAAC,EAAE,CAAC,CAAC;MAC3DF,GAAE,GAAII,UAAU,CAACJ,GAAG,CAACM,OAAO,CAAC,CAAC,CAAC,CAAC;MAChCC,WAAW,CAACR,IAAI,EAAEC,GAAG,CAAC;IACxB,CAAC;;IAED;IACA,MAAMO,WAAU,GAAI,CAACR,IAAI,EAAEC,GAAG,KAAK;MACjC,MAAMQ,SAAQ,GAAI,CAChB,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,EACT,SAAS,CACV;MAEDhB,OAAM,GAAIf,OAAO,CAACgC,IAAI,CAAClB,SAAS,CAACc,KAAK,CAAC;MACvCb,OAAO,CAACkB,SAAS,CACf;QACEC,KAAK,EAAEH,SAAS;QAChBI,KAAK,EAAE,CACL;UACEC,IAAI,EAAEd,IAAI,CAACe,MAAK,KAAM,CAAC;UACvBC,GAAG,EAAE,QAAQ;UACbC,IAAI,EAAE,QAAQ;UACdC,IAAI,EAAE,MAAM;UACZC,SAAS,EAAE;YACTP,KAAK,EAAE,oBAAoB;YAC3BQ,QAAQ,EAAE;UACZ;QACF,CAAC,EACD;UACEF,IAAI,EAAEjB,GAAG;UACTgB,IAAI,EAAE,KAAK;UACXD,GAAG,EAAE,QAAQ;UACbG,SAAS,EAAE;YACTC,QAAQ,EAAE,EAAE;YACZR,KAAK,EAAE;UACT;QACF,CAAC,CACF;QACDS,OAAO,EAAE;UACPC,OAAO,EAAE,MAAM;UACfC,SAAS,EAAE,0BAA0B;UACrCJ,SAAS,EAAE;YACTC,QAAQ,EAAE;UACZ;QACF,CAAC;QACDI,MAAM,EAAE;UACNC,MAAM,EAAE,UAAU;UAClBT,GAAG,EAAE,QAAQ;UACbU,IAAI,EAAE,QAAQ;UACdC,KAAK,EAAE,IAAI;UACXC,SAAS,EAAE,EAAE;UACbC,UAAU,EAAE,EAAE;UACdC,aAAa,EAAE,MAAM;UACrBC,YAAY,EAAE,EAAE;UAChBC,aAAa,EAAE;YACbpB,KAAK,EAAE;UACT,CAAC;UACDZ,IAAI,EAAEA,IAAI,CAACiC,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;YAC9B,OAAO;cACLjD,IAAI,EAAEgD,IAAI,CAAChD,IAAI;cACfiC,SAAS,EAAE;gBACTP,KAAK,EAAEH,SAAS,CAAC0B,KAAK;cACxB;YACF,CAAC;UACH,CAAC;QACH,CAAC;QACDC,OAAO,EAAE;UACPC,OAAO,EAAE;YACPC,QAAQ,EAAE;cACRxB,IAAI,EAAE;YACR,CAAC;YACDyB,SAAS,EAAE;cACTzB,IAAI,EAAE;YACR,CAAC;YACD0B,OAAO,EAAE;cACP1B,IAAI,EAAE;YACR,CAAC;YACD2B,WAAW,EAAE;cACX3B,IAAI,EAAE,IAAI;cACV5B,IAAI,EAAEG,IAAI,CAACiB,KAAI,GAAI,OAAO;cAC1BoC,UAAU,EAAE;YACd;UACF,CAAC;UACDC,SAAS,EAAE;YACTC,MAAM,EAAE;cACNC,WAAW,EAAE;YACf;UACF,CAAC;UACD7B,GAAG,EAAE,CAAC;UACNW,KAAK,EAAE;QACT,CAAC;QACDmB,MAAM,EAAE,CACN;UACE5D,IAAI,EAAE,MAAM;UACZwC,IAAI,EAAE,KAAK;UACXqB,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;UACtBC,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;UACtBC,QAAQ,EAAE,QAAQ;UAClBjD,IAAI,EAAEA,IAAI;UACVkD,SAAS,EAAE;YACTN,MAAM,EAAE;cACN7B,MAAM,EAAE;YACV;UACF,CAAC;UACDoC,SAAS,EAAE;YACTP,MAAM,EAAE;cACNhC,KAAK,EAAE,UAASwC,MAAM,EAAE;gBACtB,OAAO3C,SAAS,CAAC2C,MAAM,CAACC,SAAQ,GAAI5C,SAAS,CAACM,MAAM,CAAC;cACvD,CAAC;cACDuC,KAAK,EAAE;gBACLxC,IAAI,EAAE,IAAI;gBACVS,SAAS,EAAE;cACb;YACF;UACF;QACF,CAAC;MAEL,CAAC,EACD,IAAG,CACJ;MAED9B,OAAO,CAAC8D,KAAK,EAAE,CAACC,GAAG,CAAC,OAAO,CAAC;MAC5B/D,OAAO,CAAC8D,KAAK,EAAE,CAACE,EAAE,CAAC,OAAO,EAAGL,MAAM,IAAK;QACtC,MAAMM,YAAW,GAAI,CAACN,MAAM,CAACO,OAAO,EAAEP,MAAM,CAACQ,OAAO,CAAC;QACrD,IAAInE,OAAO,CAACoE,YAAY,CAAC,QAAQ,EAAEH,YAAY,KAAK1D,IAAI,CAACe,MAAK,KAAM,CAAC,EAAE;UACrExB,YAAY,CAAC,OAAO,CAAC;QACvB;MACF,CAAC,CAAC;IACJ,CAAC;IAEDT,KAAK,CACHO,IAAI,EACJ,CAACyE,EAAE,EAAEC,EAAE,KAAK;MACVnE,UAAU,EAAE;IACd,CAAC,EACD;MAAEoE,IAAI,EAAE;IAAM,EACf;IACDlF,KAAK,CACHQ,UAAU,EACV,CAACwE,EAAE,EAAEC,EAAE,KAAK;MACVnE,UAAU,EAAE;IACd,CAAC,EACD;MAAEoE,IAAI,EAAE,KAAK;MAAEC,IAAI,EAAE;IAAK,EAC3B;IAED,OAAO;MACLzE;IACF,CAAC;EACH;AACF,CAAC","names":["echarts","onMounted","onBeforeUnmount","ref","watch","debounce","useResize","selectTypeData","name","setup","abcode","year","parentInfo","routerChange","typeCount","myChart","resizeHandler","resize","getPieData","window","addEventListener","removeEventListener","data","sum","reduce","t","c","parseFloat","value","toFixed","initEcharts","colorList","init","setOption","color","title","show","length","top","left","text","textStyle","fontSize","tooltip","trigger","formatter","legend","orient","type","right","itemWidth","itemHeight","pageIconColor","pageIconSize","pageTextStyle","map","item","index","toolbox","feature","dataView","magicType","restore","saveAsImage","pixelRatio","iconStyle","normal","borderColor","series","radius","center","roseType","labelLine","itemStyle","params","dataIndex","label","getZr","off","on","pointInPixel","offsetX","offsetY","containPixel","nl","ol","lazy","deep"],"sourceRoot":"","sources":["E:\\2023spring\\sci\\vue3-bigData\\src\\views\\homepage\\components\\typeCount.vue"],"sourcesContent":["<template>\r\n  <div class=\"chart-wrapper\" ref=\"typeCount\"></div>\r\n</template>\r\n\r\n<script>\r\nimport echarts from \"echarts\";\r\nimport { onMounted, onBeforeUnmount, ref, watch } from \"vue\";\r\nimport { debounce } from \"@/utils/index.js\";\r\nimport useResize from \"@/componentApi/useResize.js\";\r\nimport { selectTypeData } from \"@/api/mockChart\";\r\n\r\nexport default {\r\n  name: \"typeCount\",\r\n  setup() {\r\n    let { abcode, year, parentInfo, routerChange } = useResize();\r\n\r\n    const typeCount = ref(null);\r\n    let myChart = ref(null);\r\n\r\n    const resizeHandler = debounce(() => {\r\n      if (myChart) {\r\n        myChart.resize();\r\n      }\r\n    }, 200);\r\n\r\n    onMounted(() => {\r\n      getPieData();\r\n      window.addEventListener(\"resize\", resizeHandler);\r\n    });\r\n    onBeforeUnmount(() => {\r\n      window.removeEventListener(\"resize\", resizeHandler);\r\n    });\r\n\r\n    //模拟接口，获取echarts数据\r\n    const getPieData = async () => {\r\n      const { data } = await selectTypeData({\r\n        abcode,\r\n        year,\r\n      });\r\n      let sum = data.reduce((t, c) => parseFloat(c.value) + t, 0);\r\n      sum = parseFloat(sum.toFixed(2));\r\n      initEcharts(data, sum);\r\n    };\r\n\r\n    // //渲染echarts图\r\n    const initEcharts = (data, sum) => {\r\n      const colorList = [\r\n        \"#0278E6\",\r\n        \"#6255FE\",\r\n        \"#00C6FF\",\r\n        \"#F0960E\",\r\n        \"#34D160\",\r\n        \"#87cefa\",\r\n        \"#da70d6\",\r\n        \"#32cd32\",\r\n        \"#6495ed\",\r\n        \"#9fe6b8\",\r\n        \"#e7bcf3\",\r\n        \"#0E7CE2\",\r\n        \"#FF8352\",\r\n        \"#E271DE\",\r\n        \"#4AEAB0\",\r\n      ];\r\n\r\n      myChart = echarts.init(typeCount.value);\r\n      myChart.setOption(\r\n        {\r\n          color: colorList,\r\n          title: [\r\n            {\r\n              show: data.length === 0,\r\n              top: \"center\",\r\n              left: \"center\",\r\n              text: \"暂无数据\",\r\n              textStyle: {\r\n                color: \"rgb(179, 239, 255)\",\r\n                fontSize: 12,\r\n              },\r\n            },\r\n            {\r\n              text: sum,\r\n              left: \"33%\",\r\n              top: \"center\",\r\n              textStyle: {\r\n                fontSize: 12,\r\n                color: \"rgb(179, 239, 255)\",\r\n              },\r\n            },\r\n          ],\r\n          tooltip: {\r\n            trigger: \"item\",\r\n            formatter: \"销量 <br/>{b} : {c} ({d}%)\",\r\n            textStyle: {\r\n              fontSize: 12,\r\n            },\r\n          },\r\n          legend: {\r\n            orient: \"vertical\",\r\n            top: \"center\",\r\n            type: \"scroll\",\r\n            right: \"7%\",\r\n            itemWidth: 15,\r\n            itemHeight: 13,\r\n            pageIconColor: \"#fff\",\r\n            pageIconSize: 10,\r\n            pageTextStyle: {\r\n              color: \"#fff\",\r\n            },\r\n            data: data.map((item, index) => {\r\n              return {\r\n                name: item.name,\r\n                textStyle: {\r\n                  color: colorList[index],\r\n                },\r\n              };\r\n            }),\r\n          },\r\n          toolbox: {\r\n            feature: {\r\n              dataView: {\r\n                show: false,\r\n              },\r\n              magicType: {\r\n                show: false,\r\n              },\r\n              restore: {\r\n                show: false,\r\n              },\r\n              saveAsImage: {\r\n                show: true,\r\n                name: year.value + \"年销售种类\",\r\n                pixelRatio: 2,\r\n              },\r\n            },\r\n            iconStyle: {\r\n              normal: {\r\n                borderColor: \"#1990DA\",\r\n              },\r\n            },\r\n            top: 0,\r\n            right: 5,\r\n          },\r\n          series: [\r\n            {\r\n              name: \"销售种类\",\r\n              type: \"pie\",\r\n              radius: [\"45%\", \"75%\"],\r\n              center: [\"40%\", \"50%\"],\r\n              roseType: \"radius\",\r\n              data: data,\r\n              labelLine: {\r\n                normal: {\r\n                  length: 0.000000001,\r\n                },\r\n              },\r\n              itemStyle: {\r\n                normal: {\r\n                  color: function(params) {\r\n                    return colorList[params.dataIndex % colorList.length];\r\n                  },\r\n                  label: {\r\n                    show: true,\r\n                    formatter: \"{d}%\",\r\n                  },\r\n                },\r\n              },\r\n            },\r\n          ],\r\n        },\r\n        true\r\n      );\r\n\r\n      myChart.getZr().off(\"click\");\r\n      myChart.getZr().on(\"click\", (params) => {\r\n        const pointInPixel = [params.offsetX, params.offsetY];\r\n        if (myChart.containPixel(\"series\", pointInPixel) || data.length === 0) {\r\n          routerChange(\"/more\");\r\n        }\r\n      });\r\n    };\r\n\r\n    watch(\r\n      year,\r\n      (nl, ol) => {\r\n        getPieData();\r\n      },\r\n      { lazy: false }\r\n    );\r\n    watch(\r\n      parentInfo,\r\n      (nl, ol) => {\r\n        getPieData();\r\n      },\r\n      { lazy: false, deep: true }\r\n    );\r\n\r\n    return {\r\n      typeCount,\r\n    };\r\n  },\r\n};\r\n</script>\r\n"]}]}