{"remainingRequest":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\babel-loader\\lib\\index.js!E:\\2023spring\\sci\\vue3-bigData\\src\\utils\\index.js","dependencies":[{"path":"E:\\2023spring\\sci\\vue3-bigData\\src\\utils\\index.js","mtime":1676359297068},{"path":"E:\\2023spring\\sci\\vue3-bigData\\babel.config.js","mtime":1676359297052},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1676359411943},{"path":"E:\\2023spring\\sci\\vue3-bigData\\node_modules\\babel-loader\\lib\\index.js","mtime":1676359413493}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwovKioNCiAqICDlh73mlbDpmLLmipYNCiAqICBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jICDljIXoo4XnmoTlh73mlbANCiAqICBAcGFyYW0ge251bX0gZGVsYXkgICAgICDlu7bov5/ml7bpl7QNCiAqICBAcGFyYW0ge2Jvb2xlYW59IGltbWVkaWF0ZSDnrKzkuIDmrKHmu5rliqjkvJrmiafooYzkuKTmrKEgIOW8gOWni+a7muWKqOWSjOe7k+adn+a7muWKqOeahOaXtuWAmQ0KICogIEByZXR1cm4geyp9DQogKi8KCmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCBkZWxheSwgaW1tZWRpYXRlID0gZmFsc2UpIHsKICBsZXQgdGltZXIsCiAgICBjb250ZXh0ID0gdGhpczsKICByZXR1cm4gKC4uLmFyZ3MpID0+IHsKICAgIGlmIChpbW1lZGlhdGUpIHsKICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTsKICAgICAgaW1tZWRpYXRlID0gZmFsc2U7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpOwogICAgfSwgZGVsYXkpOwogIH07Cn0KCi8qKg0KICogIOmAmui/h+mrmOW+t+iOt+WPlmdlb0pzb24NCiAqICBAcGFyYW0ge3N0cmluZ30gYWJjb2RlICAgICDooYzmlL/ljLpjb2RlDQogKiAgQHBhcmFtIHtzdHJpbmd9IGdlb0pzb24gICAg5LiK5LiA5qyh6I635Y+W55qEZ2VvSnNvbuaVsOaNrg0KICogIEByZXR1cm4ge30NCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIGdldEdlb0pzb24oYWRjb2RlLCBnZW9Kc29uID0gW10pIHsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgQU1hcFVJLmxvYWRVSShbImdlby9EaXN0cmljdEV4cGxvcmVyIl0sIERpc3RyaWN0RXhwbG9yZXIgPT4gewogICAgICB2YXIgZGlzdHJpY3RFeHBsb3JlciA9IG5ldyBEaXN0cmljdEV4cGxvcmVyKCk7CiAgICAgIGRpc3RyaWN0RXhwbG9yZXIubG9hZEFyZWFOb2RlKGFkY29kZSwgZnVuY3Rpb24gKGVycm9yLCBhcmVhTm9kZSkgewogICAgICAgIGlmIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBsZXQgSnNvbiA9IGFyZWFOb2RlLmdldFN1YkZlYXR1cmVzKCk7CiAgICAgICAgbGV0IG1hcEpzb24gPSB7CiAgICAgICAgICBmZWF0dXJlczogW10KICAgICAgICB9OwogICAgICAgIGlmIChKc29uLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgSnNvbiA9IGdlb0pzb24uZmVhdHVyZXMuZmlsdGVyKGl0ZW0gPT4gaXRlbS5wcm9wZXJ0aWVzLmFkY29kZSA9PSBhZGNvZGUpOwogICAgICAgIH0KICAgICAgICBtYXBKc29uLmZlYXR1cmVzID0gSnNvbjsKICAgICAgICByZXNvbHZlKG1hcEpzb24pOwogICAgICB9KTsKICAgIH0pOwogIH0pOwp9CgovKioNCiAqICDpgJrov4fpq5jlvrfojrflj5blnLDlm77kv6Hmga8NCiAqICBAcGFyYW0ge3N0cmluZ30gYWJjb2RlICDooYzmlL/ljLpjb2RlDQogKiAgQHJldHVybiB7fQ0KICovCgpleHBvcnQgZnVuY3Rpb24gZ2V0TWFwSW5mbyhhYmNvZGUpIHsKICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgdmFyIGRpc3RyaWN0U2VhcmNoID0gbmV3IEFNYXAuRGlzdHJpY3RTZWFyY2goKTsKICAgIGRpc3RyaWN0U2VhcmNoLnNlYXJjaChhYmNvZGUudmFsdWUsIGZ1bmN0aW9uIChzdGF0dXMsIHJlc3VsdCkgewogICAgICBpZiAoc3RhdHVzICE9ICJjb21wbGV0ZSIpIHsKICAgICAgICByZWplY3QobmV3IEVycm9yKCLojrflj5blnLDlm77mlbDmja7lpLHotKUiKSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvbnN0IGRhdGEgPSByZXN1bHQuZGlzdHJpY3RMaXN0WzBdOwogICAgICBpZiAoZGF0YS5sZXZlbCA9PT0gImRpc3RyaWN0IiAmJiBkYXRhLmRpc3RyaWN0TGlzdFswXS5sZXZlbCA9PT0gInN0cmVldCIgfHwgIWRhdGEuZGlzdHJpY3RMaXN0KSB7CiAgICAgICAgcmVzb2x2ZShbZGF0YV0pOwogICAgICB9CiAgICAgIHJlc29sdmUoZGF0YS5kaXN0cmljdExpc3QpOwogICAgfSk7CiAgfSk7Cn0="},{"version":3,"names":["debounce","func","delay","immediate","timer","context","args","apply","clearTimeout","setTimeout","getGeoJson","adcode","geoJson","Promise","resolve","reject","AMapUI","loadUI","DistrictExplorer","districtExplorer","loadAreaNode","error","areaNode","console","Json","getSubFeatures","mapJson","features","length","filter","item","properties","getMapInfo","abcode","districtSearch","AMap","DistrictSearch","search","value","status","result","Error","data","districtList","level"],"sources":["E:/2023spring/sci/vue3-bigData/src/utils/index.js"],"sourcesContent":["/**\r\n *  函数防抖\r\n *  @param {Function} func  包装的函数\r\n *  @param {num} delay      延迟时间\r\n *  @param {boolean} immediate 第一次滚动会执行两次  开始滚动和结束滚动的时候\r\n *  @return {*}\r\n */\r\n\r\nexport function debounce(func, delay, immediate = false) {\r\n  let timer,\r\n    context = this;\r\n  return (...args) => {\r\n    if (immediate) {\r\n      func.apply(context, args);\r\n      immediate = false;\r\n      return;\r\n    }\r\n    clearTimeout(timer);\r\n    timer = setTimeout(() => {\r\n      func.apply(context, args);\r\n    }, delay);\r\n  };\r\n}\r\n\r\n/**\r\n *  通过高德获取geoJson\r\n *  @param {string} abcode     行政区code\r\n *  @param {string} geoJson    上一次获取的geoJson数据\r\n *  @return {}\r\n */\r\n\r\nexport function getGeoJson(adcode, geoJson = []) {\r\n  return new Promise((resolve, reject) => {\r\n    AMapUI.loadUI([\"geo/DistrictExplorer\"], (DistrictExplorer) => {\r\n      var districtExplorer = new DistrictExplorer();\r\n      districtExplorer.loadAreaNode(adcode, function(error, areaNode) {\r\n        if (error) {\r\n          console.error(error);\r\n          reject(error);\r\n          return;\r\n        }\r\n        let Json = areaNode.getSubFeatures();\r\n        let mapJson = {\r\n          features: [],\r\n        };\r\n        if (Json.length === 0) {\r\n          Json = geoJson.features.filter(\r\n            (item) => item.properties.adcode == adcode\r\n          );\r\n        }\r\n        mapJson.features = Json;\r\n        resolve(mapJson);\r\n      });\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n *  通过高德获取地图信息\r\n *  @param {string} abcode  行政区code\r\n *  @return {}\r\n */\r\n\r\nexport function getMapInfo(abcode) {\r\n  return new Promise((resolve, reject) => {\r\n      var districtSearch = new AMap.DistrictSearch()\r\n      districtSearch.search(abcode.value, function(status, result) {\r\n        if (status != \"complete\") {\r\n          reject(new Error(\"获取地图数据失败\"));\r\n          return;\r\n        }\r\n        const data = result.districtList[0];\r\n        if (\r\n          (data.level === \"district\" &&\r\n            data.districtList[0].level === \"street\") ||\r\n          !data.districtList\r\n        ) {\r\n          resolve([data]);\r\n        }\r\n        resolve(data.districtList);\r\n      });\r\n\r\n  });\r\n}\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASA,QAAQ,CAACC,IAAI,EAAEC,KAAK,EAAEC,SAAS,GAAG,KAAK,EAAE;EACvD,IAAIC,KAAK;IACPC,OAAO,GAAG,IAAI;EAChB,OAAO,CAAC,GAAGC,IAAI,KAAK;IAClB,IAAIH,SAAS,EAAE;MACbF,IAAI,CAACM,KAAK,CAACF,OAAO,EAAEC,IAAI,CAAC;MACzBH,SAAS,GAAG,KAAK;MACjB;IACF;IACAK,YAAY,CAACJ,KAAK,CAAC;IACnBA,KAAK,GAAGK,UAAU,CAAC,MAAM;MACvBR,IAAI,CAACM,KAAK,CAACF,OAAO,EAAEC,IAAI,CAAC;IAC3B,CAAC,EAAEJ,KAAK,CAAC;EACX,CAAC;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASQ,UAAU,CAACC,MAAM,EAAEC,OAAO,GAAG,EAAE,EAAE;EAC/C,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACtCC,MAAM,CAACC,MAAM,CAAC,CAAC,sBAAsB,CAAC,EAAGC,gBAAgB,IAAK;MAC5D,IAAIC,gBAAgB,GAAG,IAAID,gBAAgB,EAAE;MAC7CC,gBAAgB,CAACC,YAAY,CAACT,MAAM,EAAE,UAASU,KAAK,EAAEC,QAAQ,EAAE;QAC9D,IAAID,KAAK,EAAE;UACTE,OAAO,CAACF,KAAK,CAACA,KAAK,CAAC;UACpBN,MAAM,CAACM,KAAK,CAAC;UACb;QACF;QACA,IAAIG,IAAI,GAAGF,QAAQ,CAACG,cAAc,EAAE;QACpC,IAAIC,OAAO,GAAG;UACZC,QAAQ,EAAE;QACZ,CAAC;QACD,IAAIH,IAAI,CAACI,MAAM,KAAK,CAAC,EAAE;UACrBJ,IAAI,GAAGZ,OAAO,CAACe,QAAQ,CAACE,MAAM,CAC3BC,IAAI,IAAKA,IAAI,CAACC,UAAU,CAACpB,MAAM,IAAIA,MAAM,CAC3C;QACH;QACAe,OAAO,CAACC,QAAQ,GAAGH,IAAI;QACvBV,OAAO,CAACY,OAAO,CAAC;MAClB,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;AACJ;;AAEA;AACA;AACA;AACA;AACA;;AAEA,OAAO,SAASM,UAAU,CAACC,MAAM,EAAE;EACjC,OAAO,IAAIpB,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;IACpC,IAAImB,cAAc,GAAG,IAAIC,IAAI,CAACC,cAAc,EAAE;IAC9CF,cAAc,CAACG,MAAM,CAACJ,MAAM,CAACK,KAAK,EAAE,UAASC,MAAM,EAAEC,MAAM,EAAE;MAC3D,IAAID,MAAM,IAAI,UAAU,EAAE;QACxBxB,MAAM,CAAC,IAAI0B,KAAK,CAAC,UAAU,CAAC,CAAC;QAC7B;MACF;MACA,MAAMC,IAAI,GAAGF,MAAM,CAACG,YAAY,CAAC,CAAC,CAAC;MACnC,IACGD,IAAI,CAACE,KAAK,KAAK,UAAU,IACxBF,IAAI,CAACC,YAAY,CAAC,CAAC,CAAC,CAACC,KAAK,KAAK,QAAQ,IACzC,CAACF,IAAI,CAACC,YAAY,EAClB;QACA7B,OAAO,CAAC,CAAC4B,IAAI,CAAC,CAAC;MACjB;MACA5B,OAAO,CAAC4B,IAAI,CAACC,YAAY,CAAC;IAC5B,CAAC,CAAC;EAEN,CAAC,CAAC;AACJ"}]}